# Архитектура проекта Code Analyzer

## Общая архитектура
Проект построен на основе ASP.NET Core с использованием Razor Pages. Архитектура следует принципам чистой архитектуры с разделением на слои:

1. **Презентационный слой** (Razor Pages)
   - Отвечает за взаимодействие с пользователем
   - Обрабатывает загрузку файлов
   - Отображает результаты анализа

2. **Слой бизнес-логики** (Core)
   - Содержит основную логику анализа кода
   - Реализует расчет метрик
   - Обрабатывает исходный код

3. **Слой моделей** (Models)
   - Определяет структуры данных
   - Содержит модели для хранения результатов анализа

## Компоненты системы

### Презентационный слой
- `Pages/Index.cshtml` - Главная страница
  - Форма загрузки файла
  - Информация о поддерживаемых языках
  - Описание метрик анализа
- `Pages/Analysis.cshtml` - Страница результатов
  - Отображение общей информации
  - Визуализация метрик
  - Навигация

### Слой бизнес-логики
- `ICodeAnalyzer` - Интерфейс анализатора
  - Определяет контракт для анализа кода
  - Абстрагирует конкретные реализации
- `MetricsCalculator` - Калькулятор метрик
  - Реализует расчет метрик Холстеда
  - Реализует расчет метрик МакКейба
  - Реализует расчет метрик Джилба

### Модели данных
- `AnalysisResult` - Основная модель результатов
- `HalsteadMetrics` - Метрики Холстеда
- `McCabeMetrics` - Метрики МакКейба
- `GilbMetrics` - Метрики Джилба

## Поток данных
1. Пользователь загружает файл
2. Файл передается в анализатор кода
3. Анализатор обрабатывает файл и рассчитывает метрики
4. Результаты сохраняются в сессии
5. Пользователь перенаправляется на страницу результатов
6. Результаты извлекаются из сессии и отображаются

## Зависимости
- ASP.NET Core 7.0
- Bootstrap 5 (UI компоненты)
- System.Text.Json (сериализация)

## Расширяемость
Система спроектирована с учетом возможности расширения:
- Добавление новых языков программирования
- Внедрение новых метрик
- Изменение способа визуализации результатов
- Добавление новых типов анализа 